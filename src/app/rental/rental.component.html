<p>
  rental works!
</p>


<div class="container-fluid">
  <div class="row">

    <div class="left-column">
      <div id="photoGallery">
        <carousel [interval]="myInterval" [(activeSlide)]="activeSlideIndex">

          <slide *ngFor="let slide of photos; let index=index">
            <img [src]="slide.large.uri" alt="image slide" style="display: block; width: 100%;">

            <div class="carousel-caption">
              <!-- <h4>Slide {{index}}</h4> -->
              <p>{{slide.text}}</p>
            </div>
          </slide>
        </carousel>
      </div>


      <div id="detailNav">
        <ul class="nav nav-underline">
          <li> <a href="">Overview</a> </li>
          <li> <a href="">Amenities</a> </li>
          <li> <a href="">Reviews</a> </li>
          <li> <a href="">Map</a> </li>
        </ul>
      </div>


      <section id="overview">
        <h2>{{listingDetails.adContent.headline}}</h2>
        <div class="listing-details-container">
          <div class="row">
            <div class="col">
              <ul class="detail-list">
                <li>
                  <span>{{listingDetails?.units[0]?.unitContent.propertyType}}</span>
                  <span></span>
                </li>
                <li>
                  <span> Sleeps: {{listingDetails?.units[0]?.unitContent.maxSleep}} </span>
                </li>
                <li>
                  <span> Bedrooms: {{listingDetails?.units[0]?.unitContent.numberOfBedrooms}} </span>
                </li>
                <li>
                  <span> Bathrooms: {{listingDetails?.units[0]?.unitContent.numberOfBathrooms}} </span>
                </li>
                <li>
                  <span> Min Stay: {{listingDetails?.units[0]?.ratePeriods[0].minimumStay}} nights</span>
                </li>
              </ul>
            </div>
            <div class="col">
              <agm-map [zoom]='13' [latitude]="coordinates?.lat" [longitude]="coordinates?.lng" [draggable]="false">
                <agm-marker [latitude]="coordinates?.lat" [longitude]="coordinates?.lng"></agm-marker>
              </agm-map>
            </div>
          </div>

          <!-- <div id="listing-features">
            <span *ngFor="let feature of features"> {{feature.description}} </span>
          </div> -->



          <div class="row">
            <div id="listing-description">
              <h2>{{listingDetails?.adContent?.accommodationsSummary}}</h2>
              <p id="description-text">{{listingDetails?.adContent?.description}}</p>
            </div>
            <button *ngIf="isCollapsed && textExceedsDivHeight" (click)="toggleText()" style="margin-top: 0">View more</button>
            <button *ngIf="!isCollapsed && textExceedsDivHeight" (click)="toggleText()" style="margin-top: 0">View less</button>
          </div>

          <div class="row">
            <div id="listing-bedroom-stats">
              <h2>Bedrooms</h2>
              <ul id="bedroom-list">
                <li>
                  <span> {{listingDetails?.units[0].unitContent?.numberOfBedrooms}} Bedrooms </span>
                </li>
                <li>
                  <span> Sleeps {{listingDetails?.units[0].unitContent?.maxSleep}} </span>
                </li>
              </ul>
              <hr>
              <small>{{listingDetails?.units[0].unitContent?.bedroomDetails}}</small>
            </div>
          </div>


          <div class="row">
            <div id="listing-rules">
              <h3>House Rules</h3>

              <!-- <span>{{feature}}: {{features["suitability"]}}</span> -->


              <!-- "let key of objectKeys(items)">{{key + ' : ' + items[key]}} -->



            </div>
          </div>


        </div>
      </section>

    </div>






    <div class="right-column">
      <div id="rentalDetails">

        <div id="price"> {{listingDetails?.units[0]?.ratePeriods[0]?.rates.nightlyWeekday.amount | currency: listingDetails?.units[0]?.ratePeriods[0]?.rates.nightlyWeekday.currency}}</div>

        <div class="reviewStars">
          <star-rating size="medium" [starType]="icon" [rating]="listingDetails?.units[0]?.reviewSummary.averageRating" [readOnly]="true"></star-rating>
          {{listingDetails?.units[0]?.reviewSummary.reviewCount}}
        </div>

      </div>
    </div>

  </div>
</div>

<!-- <p>Price = {{ price | currency : "NOK" }}</p> -->
